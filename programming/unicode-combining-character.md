# 結合文字

## 概要

> 文字コードにおいて先行する文字と組み合わせるための図形文字をいう。

- ダイアクリティカルマーク
- 仮名の濁点・半濁点
- ヘブライ文字のニクダー
- アラビア文字のシャクル
- ブラーフミー系文字の母音記号
- 異体字セレクタ

[結合文字 - Wikipedia](https://ja.wikipedia.org/wiki/%E7%B5%90%E5%90%88%E6%96%87%E5%AD%97)より。

## Unicode

Unicodeにおいては、結合文字は以下の3種類のいずれかに属する。

- 前進を伴う結合記号

  "Spacing combining mark", "Mc"とも。 デーヴァナーガリー文字の母音 ā i ī などの記号。基底文字の左に置かれることもある。

- 前進を伴わない記号

  "Nonspacing mark", "Mn"とも。ダイアクリティカルマークなど。

- 囲み記号

  "Enclosing mark,", "Me"とも。結合用の円や四角など。

結合文字は先行する基底文字（非結合文字）と組み合わせて結合文字列(combining character sequence, CCS)を作る。

結合文字は複数指定可能であり、通常はたとえば上につく結合文字が複数ある場合は上へ上へと積み重ねられるが、結合文字の種類によっては異なる表示がなされることもある。

### 正規化

â は U+00E2 (latin small letter a with circumflex) でも、U+0061 U+0302 (latin small letter a + combining circumflex accent) でも表すことができる。

## 規格

[JISX0221:2014 国際符号化文字集合（ＵＣＳ）](https://kikakurui.com/x0/X0221-2014-01.html)の"20 結合文字"に仕様が記載されている。

> 結合文字の符号化表現は、それが結合される基底文字の符号化表現の後に置かなければならない。
>
> 例えば、LATIN SMALL LETTER A（ラテン小文字A）の後にCOMBINING TILDE［チルド（合成可能）］が続く符号化表現は、ラテンの合成列“ã”を表現する。

> 一つの結合文字自身を合成列とみなさなければならない場合、その結合文字は、文字00A0 NO-BREAK SPACE（ノーブレークスペース）と結合した合成列として符号化しなければならない。
>
> 例えば、グレーブアクセントは、00A0のNO-BREAK SPACEの後に0300のCOMBINING GRAVE ACCENT［グレーブアクセント（合成可能）］を置いて合成できる。

### 20.2 結合クラスおよび基準順序

> それぞれの結合文字は、ユニコード標準によって定められた結合クラスの値を持つ。これらの値は、ユニコード標準6.1版の結合クラス属性に従って定める（箇条3参照）。

**NOTE**: 「箇条」とは"Chapter"の事と思われる。実際、<http://www.unicode.org/versions/Unicode6.1.0/ch03.pdf>に"Combining Class"の言及がある。

> 結合クラスは、正規化手続（normalization process）の一部である規範順序を定めるために用いる（箇条21参照）。
>
> 基準順序では、結合文字を結合クラスの昇順に並べ替える。結合クラスの値がゼロである文字と組み合わされた結合文字は、他の文字との相対位置に並べ直すことはない。

